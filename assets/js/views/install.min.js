"use strict";var User={};User.model={url:"/api/users/install",validate:function(){var b=[];var e=$q("form").isFormValid();var f=$q('input[name="email"]');var a=$q('input[name="password"]');var d=$q(".passwordv").val();if(!e){b.push("Please check required fields")}if(a.val()!=""&&$q(".password-verdict").text()=="Weak"){e=false;b.push("Password is too weak")}if(a.val()!=d){e=false;b.push("Password and Confirm Password don't match")}if(!e){if($q(".aero-error-box").length==0){$q("form").prepend('<div class="aero-error-box"><ul></ul></div>')}for(var c in b){$q(".aero-error-box ul").append("<li>"+b[c]+"</li>")}}return e},save:function(){var a=$q("form").aeroSerialize();User.api.createAdmin();if(this.validate(a)){User.api.create(a)}}};User.view={setEvents:function(){var a={onKeyUp:function(b){}};$q('input[name="password"]').pwstrength(a);$q("[name=email]").focus();$q("body").on("keypress",function(c){var b=c.keyCode||c.which;if(b!="13"){return}User.model.save()});$q(".sign-in").on("click",function(b){User.model.save();return false})}};User.api={create:function(a){$q.post(User.model.url,a,function(b){if(b.success){window.location="/apps"}else{$q("form").prepend(error)}})},createAdmin:function(){$q.post("/api/users/admin",{},function(a){if(!a.success){$q("form").prepend(error)}})}};$q.fn.isFormValid=function(){var a=[];$q(".aero-require-error").removeClass("aero-require-error");$q(".aero-error-box").remove();$q(this).find(".aero-required").each(function(){$q(this).removeClass("aero-require-error");if($q(this).val()==""){if(a.length==0){a.push("Please check required fields")}$q(this).addClass("aero-require-error")}});if(a.length>0){if($q(".aero-modal form:eq(0)").length>0){$q(".aero-modal form:eq(0)").prepend('<div class="aero-error-box"><ul><li>'+a.join("</li><li>")+"</li></ul></div>")}return false}return true};$q.fn.aeroSerialize=function(){var c={};var b=this.serializeArray();$q.each(b,function(){var a=this.name.replace("aero_","");if(c[a]!==undefined){if(!c[a].push){c[a]=[c[this.name]]}c[a].push(this.value||"")}else{c[a]=this.value||""}});return c};$q(function(){User.view.setEvents()});$q("img").on("load",function(){$q(".jumbo").css("background-image",'url("/assets/images/jumbo-image.png")').fadeIn(500).animate({right:90},2000,"swing")}).each(function(){if(this.complete){$q(this).load()}});